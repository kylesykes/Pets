<!DOCTYPE html>

<html>
		<head>
				<script src="pets.js"></script>
			
				<meta charset="utf-8">
				<title>New Owner</title>

				<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

				<!-- jQuery library -->
				<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
				<!-- Latest compiled JavaScript -->
				<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
				<!-- Compiled and minified CSS -->
				<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
				<!-- Compiled and minified JavaScript -->
				<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
			</head>

<body>

		<nav>
                <div class="nav-wrapper">
                    <a href="#" class="brand-logo center">Top Dog Information Systems</a>
                    <ul id="nav-mobile" class="right hide-on-med-and-down">
						<li><a href="info.html">Info</a></li>
						<li><a href="login.html">Logout</a></li>
                    </ul>
                </div>
            </nav>


<div style="margin-left: 10%; margin-right: 10%; margin-top: 5%;">
	<h4>Add New Owner</h4>
	<div class="row">
	<form class="col s12" method="POST" id="registerForm">
		<div class="row">

		<div class="input-field col s6">
			<i class="material-icons prefix">account_circle</i>
			<input placeholder="Username" name="username" type="text" class="validate">
			<label for="name"> Username</label>
		</div>

		<div class="input-field col s6">
			<i class="material-icons prefix">enhanced_encryption</i>
			<input placeholder="Password" name="password" type="password" class="validate">
			<label for="name"> Password</label>
		</div>
		
		<div class="input-field col s6">
			<i class="material-icons prefix">person_outline</i>
			<input placeholder="First Name" name="firstName" type="text" class="validate">
			<label for="name"> First Name</label>
		</div>	

		<div class="input-field col s6">
			<i class="material-icons prefix">person</i>
			<input placeholder="Last Name" name="lastName" type="text" class="validate">
			<label for="name"> Last Name</label>
		</div>

		<div class="input-field col s6">
			<i class="material-icons prefix">phone</i>
			<input type="tel" placeholder="Phone Number" name="phoneNumber" type="text" class="validate">
			<label for="name"> Phone Number</label>
		</div>

		<div class="input-field col s6">
			<i class="material-icons prefix">map</i>
			<input placeholder="Address" name="address" type="text" class="validate">
			<label for="name"> Address</label>
		</div>

		<div class="input-field col s6">
				<i class="material-icons prefix">mail_outline</i>
			<input type="email" placeholder="Email" name="email" type="text" class="validate">
			<label for="name"> Email</label>
		</div>

<div class="col-sm-43"></div>

<div style="clear:both;"></div>

<p>
	<button type="submit" class="btn waves-effect waves-light" value="Submit" name="action" onclick="document.getElementById('id01').style.display='none'">Submit
		<i class="material-icons right">send</i>
	</button>
	<a class="btn waves-effect waves-light" name="action" href="home.html"><i class="material-icons right">cancel</i> Cancel</a>
</p>
</form>
</div>
</div>
</body>
</html>

<script>
	var registerForm = document.getElementById('registerForm');
	registerForm.addEventListener('submit', function(ev) {
		ev.preventDefault();
		var ownerObj = {
			username: ev.srcElement[0].value,
			password: ev.srcElement[1].value,
			firstName: ev.srcElement[2].value,
			lastName: ev.srcElement[3].value,
			phoneNumber: ev.srcElement[4].value,
			address: ev.srcElement[5].value,
			email: ev.srcElement[6].value,
		};
		console.log(ownerObj);
		fetch('https://bwp-python-webapp.herokuapp.com/owner', {
			method: 'POST',
			headers: { 'Content-Type': 'application/json' },
			body: JSON.stringify(ownerObj),
		})
		.then(function(response) {
			return response.json();
		})
		.then(function(json) {
			window.location = "ViewOwner.html?"+"owner_id="+json.owner_id;
		});
	});
</script>
