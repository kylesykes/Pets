<!DOCTYPE html>

<html>
<head>


<script src="pets.js"></script>
<link rel="stylesheet" href="pets.css">

<meta charset="utf-8">


<title>New Owner</title>
<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>

<body>

<div id="wrapper"
<div id="header"
<h2>Orange Mountain Kennel App</h2>
</div>
</div>


<div id="container">
<h3>Add New Owner</h3>
<div class="row">
  <div class="col-sm-4"></div>

	<div class="col-sm-4">

<form id="registerForm" action="" method="POST">

<table>
<tbody>

<tr>
<td><lable>Username</lable></td>
<td><input type="text" name="username"/>
</tr>

<tr>
<td><lable>Password</lable></td>
<td><input type="text" name="password"/>
</tr>

<tr>
<td><lable>First Name</lable></td>
<td><input type="text" name="firstName"/>
</tr>

<tr>
<td><lable>Last Name</lable></td>
<td><input type="text" name="lastName"/>
</tr>

<tr>
<td><lable>Phone Number</label></td>
<td><input type="text" name="phoneNumber"/>
<tr>

<tr>

<td><lable>Address</label></td>
<td><input type="text" name="address"/>
<tr>

<tr>
<td><lable>Email</label></td>
<td><input type="text" name="email"/>
<tr>

<tr> 
<td><input type="submit" value="Submit" class="save"/>
</tr>

</tbody>
</table>

</form>
</div>
<div class="col-sm-43"></div>

<div style="clear;both;"></div>

<p>
	<a href="home.html">Back to Home Page</a>
</p>
</div>
</body>
</html>

<script>
	var registerForm = document.getElementById('registerForm');
	registerForm.addEventListener('submit', function(ev) {
		ev.preventDefault();
		var ownerObj = {
			username: ev.srcElement[0].value,
			password: ev.srcElement[1].value,
			firstName: ev.srcElement[2].value,
			lastName: ev.srcElement[3].value,
			phoneNumber: ev.srcElement[4].value,
			address: ev.srcElement[5].value,
			email: ev.srcElement[6].value,
		};
		console.log(ownerObj);
		fetch('https://bwp-python-webapp.herokuapp.com/owner', {
			method: 'POST',
			headers: { 'Content-Type': 'application/json' },
			body: JSON.stringify(ownerObj),
		})
		.then(function(response) {
			console.log(response)
			window.location = "ViewOwner.html?"+"username="+ownerObj.username;
		});
	});
</script>
